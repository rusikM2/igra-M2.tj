var ezVideoAdConductor=function(t){var e={};function a(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,a),i.l=!0,i.exports}return a.m=t,a.c=e,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)a.d(n,i,function(e){return t[e]}.bind(null,i));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="",a(a.s=5)}([function(t,e){function a(e){return t.exports=a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,a(e)}t.exports=a,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,a){var n=a(3);function i(t,e){for(var a=0;a<e.length;a++){var i=e[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,n(i.key),i)}}t.exports=function(t,e,a){return e&&i(t.prototype,e),a&&i(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,a){var n=a(0).default,i=a(4);t.exports=function(t){var e=i(t,"string");return"symbol"===n(e)?e:String(e)},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,a){var n=a(0).default;t.exports=function(t,e){if("object"!==n(t)||null===t)return t;var a=t[Symbol.toPrimitive];if(void 0!==a){var i=a.call(t,e||"default");if("object"!==n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,a){"use strict";a.r(e),a.d(e,"getVideoAdConductor",(function(){return d}));var n=a(1),i=a.n(n),r=a(2),o=a.n(r);function s(t){"1"===new URLSearchParams(window.location.search).get("ez_conductor_debug")&&console.log("%c[conductor] ".concat(t),"color: #FFD700")}var l=new(function(){function t(){i()(this,t),this.target=new EventTarget,this.outstreamPlayer=null,this.autoPlayInstreamPlayer=null,this.clickToPlayInstreamPlayer=null,this.loadedInEmbedContainer=!1,this.isAutoPlayFloating=!1,"undefined"!=typeof vectx&&vectx.is_magic_player&&(this.loadedInEmbedContainer=!0),this.addListener("clickToPlayStarted",this.handleClickToPlayStarted.bind(this)),this.addListener("autoPlayStarted",this.handleAutoPlayStarted.bind(this)),this.addListener("clickToPlayEnded",this.handleClickToPlayEnded.bind(this)),this.addListener("instreamAdResumed",this.handleInstreamAdResumed.bind(this)),this.addListener("instreamAdEnded",this.handleInstreamAdEnded.bind(this)),this.addListener("autoPlayFloating",this.handleAutoPlayFloating.bind(this)),this.addListener("autoPlayNotFloating",this.handleAutoPlayNotFloating.bind(this)),this.addListener("nonMagicPlayStarted",this.handleNonMagicPlayStarted.bind(this))}return o()(t,[{key:"setAutoPlayInstreamPlayer",value:function(t){this.autoPlayInstreamPlayer=t}},{key:"setClickToPlayInstreamPlayer",value:function(t){this.clickToPlayInstreamPlayer=t}},{key:"addListener",value:function(t,e,a){this.target.addEventListener(t,e,a)}},{key:"addListenerOnce",value:function(t,e){this.target.addEventListener(t,e,{once:!0})}},{key:"removeListener",value:function(t,e){this.target.removeEventListener(t,e)}},{key:"dispatchEvent",value:function(t,e){s("triggering event: "+t);var a=new CustomEvent(t,{detail:e,bubbles:!0,cancelable:!1});this.target.dispatchEvent(a),this.loadedInEmbedContainer&&window.parent.postMessage({name:t},"*")}},{key:"handleClickToPlayStarted",value:function(t){s("clickToPlayStarted triggered"),window.vectx&&window.vectx.is_playlist_menu_open&&verticalPlaylistShowBtnToggle(),this.dispatchEvent("pauseAutoPlay",{}),this.dispatchEvent("pauseOutstream",{}),this.dispatchEvent("pauseNonMagicPlay",{})}},{key:"handleAutoPlayStarted",value:function(t){s("autoPlayStarted triggered"),this.dispatchEvent("pauseClickToPlay",{}),this.dispatchEvent("pauseNonMagicPlay",{})}},{key:"handleClickToPlayEnded",value:function(t){s("clickToPlayEnded triggered"),this.dispatchEvent("startAutoPlay",{}),this.dispatchEvent("pauseNonMagicPlay",{})}},{key:"handleAutoPlayFloating",value:function(t){s("autoPlayFloating triggered"),this.dispatchEvent("pauseOutstream",{}),this.dispatchEvent("startAutoPlay",{})}},{key:"handleAutoPlayNotFloating",value:function(t){s("autoPlayNotFloating triggered"),this.clickToPlayInstreamPlayer&&!this.clickToPlayInstreamPlayer.paused()||this.clickToPlayInstreamPlayer&&this.clickToPlayInstreamPlayer.isAdInProgress()&&!this.clickToPlayInstreamPlayer.isAdPaused()||(this.loadedInEmbedContainer&&this.autoPlayInstreamPlayer&&window.vectx&&!window.vectx.is_playlist_menu_open?this.dispatchEvent("pauseAutoPlay",{}):this.dispatchEvent("startOutstream",{}))}},{key:"handleInstreamAdResumed",value:function(t){s("instreamAdResumed triggered");var e=t.detail.player;this.clickToPlayInstreamPlayer==e?this.dispatchEvent("pauseAutoPlay",{}):this.autoPlayInstreamPlayer==e&&this.dispatchEvent("pauseClickToPlay",{}),this.dispatchEvent("pauseOutstream",{}),this.dispatchEvent("pauseNonMagicPlay",{player:e})}},{key:"handleNonMagicPlayStarted",value:function(t){s("nonMagicPlayStarted triggered");var e=t.detail.player;this.dispatchEvent("pauseAutoPlay",{}),this.dispatchEvent("pauseClickToPlay",{}),this.dispatchEvent("pauseNonMagicPlay",{player:e}),this.dispatchEvent("pauseOutstream",{})}},{key:"handleInstreamAdEnded",value:function(t){s("instreamAdEnded triggered");var e=this.autoPlayInstreamPlayer&&this.loadedInEmbedContainer&&window.vectx&&window.vectx.player_currently_floating||this.autoPlayInstreamPlayer.isCurrentlyFloating(),a=this.clickToPlayInstreamPlayer&&this.clickToPlayInstreamPlayer.isAdInProgress(),n=this.autoPlayInstreamPlayer&&this.autoPlayInstreamPlayer.isAdInProgress();!e&&!a&&!n&&this.dispatchEvent("startOutstream",{})}}]),t}());function d(){return l}}]);